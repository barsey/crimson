import{j as N,a,c as _}from"./emotion-styled-base.browser.esm-0d53d476.js";import{n as S,p as $,q as j,r as q,c as G,l as J,t as K,e as Q,h as W,g as X,k as Y,v as Z,i as ee,u as V,w as te,a as ne,F as ae,x as oe,y as se,o as re,f as ie,s as de,d as le}from"./floating-ui.react-78df0bc4.js";import{R as t}from"./index-76fb7be0.js";const M=t.createContext({getItemProps:()=>({}),activeIndex:null,setActiveIndex:()=>{},setHasFocusInside:()=>{},isOpen:!1}),ue=_("div",{target:"ebp9j5o1"})({name:"vgbb2b",styles:"background:rgba(255, 255, 255, 0.8);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);padding:4px;border-radius:6px;box-shadow:2px 4px 12px rgba(0, 0, 0, 0.1),0 0 0 1px rgba(0, 0, 0, 0.1);outline:0"}),ce=_("button",{target:"ebp9j5o0"})({name:"16vev6t",styles:"&.RootMenu{padding:6px 14px;border:none;font-size:16px;background:none;border-radius:6px;border:1px solid #d7dce5;}&.RootMenu[data-open],&.RootMenu:hover{background:#d7dce5;}&.MenuItem{display:flex;justify-content:space-between;align-items:center;background:none;width:100%;border:none;border-radius:4px;font-size:16px;text-align:left;line-height:1.8;min-width:110px;margin:0;outline:0;}&.MenuItem:focus{background:royalblue;color:white;}.&MenuItem[data-nested][data-open]:not([data-focus-inside]){background:royalblue;color:white;}&.MenuItem[data-focus-inside][data-open]{background:#d7dce5;}"}),h=t.forwardRef(({children:n,label:i,...o},p)=>{const[s,f]=t.useState(!1),[m,g]=t.useState(!1),[d,b]=t.useState(null),u=t.useRef([]),R=t.useRef([]),v=t.useContext(M),r=S(),c=$(),x=j(),k=q(),e=x!=null,{floatingStyles:z,refs:w,context:l}=G({nodeId:c,open:s,onOpenChange:f,placement:e?"right-start":"bottom-start",middleware:[re({mainAxis:e?0:4,alignmentAxis:e?-4:0}),ie(),de()],whileElementsMounted:le}),A=J(l,{enabled:e,delay:{open:75},handleClose:K({blockPointerEvents:!0})}),H=Q(l,{event:"mousedown",toggle:!e,ignoreMouse:e}),O=W(l,{role:"menu"}),E=X(l,{bubbles:!0}),L=Y(l,{listRef:u,activeIndex:d,nested:e,onNavigate:b}),T=Z(l,{listRef:R,onMatch:s?b:void 0,activeIndex:d}),{getReferenceProps:B,getFloatingProps:D,getItemProps:U}=ee([A,H,O,E,L,T]);return t.useEffect(()=>{if(!r)return;function y(){f(!1)}function I(F){F.nodeId!==c&&F.parentId===x&&f(!1)}return r.events.on("click",y),r.events.on("menuopen",I),()=>{r.events.off("click",y),r.events.off("menuopen",I)}},[r,c,x]),t.useEffect(()=>{s&&r&&r.events.emit("menuopen",{parentId:x,nodeId:c})},[r,s,c,x]),N(oe,{id:c,children:[N(ce,{ref:V([w.setReference,k.ref,p]),tabIndex:e?v.activeIndex===k.index?0:-1:void 0,role:e?"menuitem":void 0,"data-open":s?"":void 0,"data-nested":e?"":void 0,"data-focus-inside":m?"":void 0,className:e?"MenuItem":"RootMenu",...B(v.getItemProps({...o,onFocus(y){var I;(I=o.onFocus)==null||I.call(o,y),g(!1),v.setHasFocusInside(!0)}})),children:[i,e&&a("span",{"aria-hidden":!0,style:{marginLeft:10,fontSize:10},children:"â–¶"})]}),a(M.Provider,{value:{activeIndex:d,setActiveIndex:b,getItemProps:U,setHasFocusInside:g,isOpen:s},children:a(te,{elementsRef:u,labelsRef:R,children:s&&a(ne,{children:a(ae,{context:l,modal:!1,initialFocus:e?-1:0,returnFocus:!e,children:a(ue,{ref:w.setFloating,className:"Menu",style:z,...D(),children:n})})})})})]})}),P=t.forwardRef((n,i)=>j()===null?a(se,{children:a(h,{...n,ref:i})}):a(h,{...n,ref:i}));try{h.displayName="MenuComponent",h.__docgenInfo={description:"",displayName:"MenuComponent",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},nested:{defaultValue:null,description:"",name:"nested",required:!1,type:{name:"boolean"}}}}}catch{}try{P.displayName="Menu",P.__docgenInfo={description:"",displayName:"Menu",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},nested:{defaultValue:null,description:"",name:"nested",required:!1,type:{name:"boolean"}}}}}catch{}const pe=_("button",{target:"enq6j2o0"})({name:"16vev6t",styles:"&.RootMenu{padding:6px 14px;border:none;font-size:16px;background:none;border-radius:6px;border:1px solid #d7dce5;}&.RootMenu[data-open],&.RootMenu:hover{background:#d7dce5;}&.MenuItem{display:flex;justify-content:space-between;align-items:center;background:none;width:100%;border:none;border-radius:4px;font-size:16px;text-align:left;line-height:1.8;min-width:110px;margin:0;outline:0;}&.MenuItem:focus{background:royalblue;color:white;}.&MenuItem[data-nested][data-open]:not([data-focus-inside]){background:royalblue;color:white;}&.MenuItem[data-focus-inside][data-open]{background:#d7dce5;}"}),C=t.forwardRef(({label:n,disabled:i,onClick:o,onFocus:p,...s},f)=>{const m=t.useContext(M),g=q({label:i?null:n}),d=S(),b=g.index===m.activeIndex;return a(pe,{...s,ref:V([g.ref,f]),type:"button",role:"menuitem",className:"MenuItem",tabIndex:b?0:-1,disabled:i,...m.getItemProps({onClick(u){o==null||o(u),d==null||d.events.emit("click")},onFocus(u){p==null||p(u),m.setHasFocusInside(!0)}}),children:n})});try{C.displayName="MenuItem",C.__docgenInfo={description:"",displayName:"MenuItem",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}}}catch{}export{P as M,C as a};
//# sourceMappingURL=MenuItem-84b60975.js.map
