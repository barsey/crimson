import{j as p,a as e}from"./emotion-react-jsx-runtime.browser.esm-625b96f3.js";import{c as N}from"./emotion-styled-base.browser.esm-7182509f.js";import{l as z,m as Z,n as H,p as U,c as ee,q as ne,r as te,e as ae,h as oe,g as se,k as re,t as le,i as de,u as D,v as ie,a as ce,F as ue,w as me,x as pe,o as fe,f as ge,s as be,d as xe}from"./floating-ui.react-14c844eb.js";import{R as o}from"./index-76fb7be0.js";import"./jsx-runtime-ffb262ed.js";import"./extends-623938b0.js";import"./index-d3ea75b5.js";import"./_commonjsHelpers-de833af9.js";const F=o.createContext({getItemProps:()=>({}),activeIndex:null,setActiveIndex:()=>{},setHasFocusInside:()=>{},isOpen:!1}),he=N("div",{target:"ebp9j5o1"})({name:"vgbb2b",styles:"background:rgba(255, 255, 255, 0.8);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);padding:4px;border-radius:6px;box-shadow:2px 4px 12px rgba(0, 0, 0, 0.1),0 0 0 1px rgba(0, 0, 0, 0.1);outline:0"}),Ie=N("button",{target:"ebp9j5o0"})({name:"16vev6t",styles:"&.RootMenu{padding:6px 14px;border:none;font-size:16px;background:none;border-radius:6px;border:1px solid #d7dce5;}&.RootMenu[data-open],&.RootMenu:hover{background:#d7dce5;}&.MenuItem{display:flex;justify-content:space-between;align-items:center;background:none;width:100%;border:none;border-radius:4px;font-size:16px;text-align:left;line-height:1.8;min-width:110px;margin:0;outline:0;}&.MenuItem:focus{background:royalblue;color:white;}.&MenuItem[data-nested][data-open]:not([data-focus-inside]){background:royalblue;color:white;}&.MenuItem[data-focus-inside][data-open]{background:#d7dce5;}"}),k=o.forwardRef(({children:s,label:c,...a},R)=>{const[r,f]=o.useState(!1),[b,I]=o.useState(!1),[u,l]=o.useState(null),w=o.useRef([]),C=o.useRef([]),_=o.useContext(F),d=z(),g=Z(),x=H(),S=U(),t=x!=null,{floatingStyles:L,refs:P,context:m}=ee({nodeId:g,open:r,onOpenChange:f,placement:t?"right-start":"bottom-start",middleware:[fe({mainAxis:t?0:4,alignmentAxis:t?-4:0}),ge(),be()],whileElementsMounted:xe}),B=ne(m,{enabled:t,delay:{open:75},handleClose:te({blockPointerEvents:!0})}),W=ae(m,{event:"mousedown",toggle:!t,ignoreMouse:t}),$=oe(m,{role:"menu"}),G=se(m,{bubbles:!0}),J=re(m,{listRef:w,activeIndex:u,nested:t,onNavigate:l}),K=le(m,{listRef:C,onMatch:r?l:void 0,activeIndex:u}),{getReferenceProps:Q,getFloatingProps:X,getItemProps:Y}=de([B,W,$,G,J,K]);return o.useEffect(()=>{if(!d)return;function y(){f(!1)}function h(j){j.nodeId!==g&&j.parentId===x&&f(!1)}return d.events.on("click",y),d.events.on("menuopen",h),()=>{d.events.off("click",y),d.events.off("menuopen",h)}},[d,g,x]),o.useEffect(()=>{r&&d&&d.events.emit("menuopen",{parentId:x,nodeId:g})},[d,r,g,x]),p(me,{id:g,children:[p(Ie,{ref:D([P.setReference,S.ref,R]),tabIndex:t?_.activeIndex===S.index?0:-1:void 0,role:t?"menuitem":void 0,"data-open":r?"":void 0,"data-nested":t?"":void 0,"data-focus-inside":b?"":void 0,className:t?"MenuItem":"RootMenu",...Q(_.getItemProps({...a,onFocus(y){var h;(h=a.onFocus)==null||h.call(a,y),I(!1),_.setHasFocusInside(!0)}})),children:[c,t&&e("span",{"aria-hidden":!0,style:{marginLeft:10,fontSize:10},children:"â–¶"})]}),e(F.Provider,{value:{activeIndex:u,setActiveIndex:l,getItemProps:Y,setHasFocusInside:I,isOpen:r},children:e(ie,{elementsRef:w,labelsRef:C,children:r&&e(ce,{children:e(ue,{context:m,modal:!1,initialFocus:t?-1:0,returnFocus:!t,children:e(he,{ref:P.setFloating,className:"Menu",style:L,...X(),children:s})})})})})]})}),i=o.forwardRef((s,c)=>H()===null?e(pe,{children:e(k,{...s,ref:c})}):e(k,{...s,ref:c}));try{k.displayName="MenuComponent",k.__docgenInfo={description:"",displayName:"MenuComponent",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},nested:{defaultValue:null,description:"",name:"nested",required:!1,type:{name:"boolean"}}}}}catch{}try{i.displayName="Menu",i.__docgenInfo={description:"",displayName:"Menu",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},nested:{defaultValue:null,description:"",name:"nested",required:!1,type:{name:"boolean"}}}}}catch{}const ye=N("button",{target:"enq6j2o0"})({name:"16vev6t",styles:"&.RootMenu{padding:6px 14px;border:none;font-size:16px;background:none;border-radius:6px;border:1px solid #d7dce5;}&.RootMenu[data-open],&.RootMenu:hover{background:#d7dce5;}&.MenuItem{display:flex;justify-content:space-between;align-items:center;background:none;width:100%;border:none;border-radius:4px;font-size:16px;text-align:left;line-height:1.8;min-width:110px;margin:0;outline:0;}&.MenuItem:focus{background:royalblue;color:white;}.&MenuItem[data-nested][data-open]:not([data-focus-inside]){background:royalblue;color:white;}&.MenuItem[data-focus-inside][data-open]{background:#d7dce5;}"}),n=o.forwardRef(({label:s,disabled:c,...a},R)=>{const r=o.useContext(F),f=U({label:c?null:s}),b=z(),I=f.index===r.activeIndex;return e(ye,{...a,ref:D([f.ref,R]),type:"button",role:"menuitem",className:"MenuItem",tabIndex:I?0:-1,disabled:c,...r.getItemProps({onClick(u){var l;(l=a.onClick)==null||l.call(a,u),b==null||b.events.emit("click")},onFocus(u){var l;(l=a.onFocus)==null||l.call(a,u),r.setHasFocusInside(!0)}}),children:s})});try{n.displayName="MenuItem",n.__docgenInfo={description:"",displayName:"MenuItem",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}}}catch{}const Pe={title:"Design System/Menu",component:i,parameters:{layout:"centered"},tags:["autodocs"],argTypes:{}};function ve(s){return p(i,{label:"Edit",children:[e(n,{label:"Undo",onClick:()=>console.log("Undo")}),e(n,{label:"Redo",disabled:!0}),e(n,{label:"Cut"})]})}function Me(s){return p(i,{label:"Edit",children:[e(n,{label:"Undo",onClick:()=>console.log("Undo")}),e(n,{label:"Redo",disabled:!0}),e(n,{label:"Cut"}),p(i,{label:"Copy as",children:[e(n,{label:"Text"}),e(n,{label:"Video"}),p(i,{label:"Image",children:[e(n,{label:".png"}),e(n,{label:".jpg"}),e(n,{label:".svg"}),e(n,{label:".gif"})]}),e(n,{label:"Audio"})]}),p(i,{label:"Share",children:[e(n,{label:"Mail"}),e(n,{label:"Instagram"})]})]})}const v={args:{},render:ve},M={args:{},render:Me};var q,E,V;v.parameters={...v.parameters,docs:{...(q=v.parameters)==null?void 0:q.docs,source:{originalSource:`{
  args: {
    // fullWidth: false,
  },
  render: Render
}`,...(V=(E=v.parameters)==null?void 0:E.docs)==null?void 0:V.source}}};var A,O,T;M.parameters={...M.parameters,docs:{...(A=M.parameters)==null?void 0:A.docs,source:{originalSource:`{
  args: {
    // color: 'primary',
  },
  render: NestedRender
}`,...(T=(O=M.parameters)==null?void 0:O.docs)==null?void 0:T.source}}};const je=["Default","Nested"];export{v as Default,M as Nested,je as __namedExportsOrder,Pe as default};
//# sourceMappingURL=Menu.stories-d41b647d.js.map
