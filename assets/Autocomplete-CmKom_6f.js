import{a as i,j as M,F as P}from"./emotion-react-jsx-runtime.browser.esm-KjBcCTgX.js";import{r as t}from"./index-BwDkhjyp.js";import{c as R,d as O,f as j,j as z,h as H,g as D,k as B,i as $,F as K,a as U}from"./floating-ui.react-BF3UZOJf.js";import{T as G}from"./TextInput-stc9rykx.js";import{S as J}from"./BaseSelect-BsHa1RO_.js";const y=t.forwardRef(({children:o,active:d,...n},g)=>{const s=t.useId();return i("div",{ref:g,role:"option",id:s,"aria-selected":d,className:"select-menu-item",...n,style:{...n.style},children:o})});y.displayName="Item";try{y.displayName="Item",y.__docgenInfo={description:"",displayName:"Item",props:{active:{defaultValue:null,description:"",name:"active",required:!0,type:{name:"boolean"}}}}}catch{}function x({placeholder:o="Type to search",size:d="medium",options:n=[],value:g,onChange:s,disabled:b,..._}){const[c,r]=t.useState(!1),[l,p]=t.useState(g||""),[u,v]=t.useState(null),C=t.useRef([]),{refs:h,floatingStyles:N,context:m}=R({whileElementsMounted:O,open:c,onOpenChange:r,middleware:[j({padding:10}),z({apply({rects:e,availableHeight:a,elements:q}){Object.assign(q.floating.style,{width:`${e.reference.width}px`,maxHeight:`${a}px`})},padding:10})]}),T=H(m,{role:"listbox"}),S=D(m),w=B(m,{listRef:C,activeIndex:u,onNavigate:v,virtual:!0,loop:!0}),{getReferenceProps:E,getFloatingProps:F,getItemProps:L}=$([T,S,w]);t.useEffect(()=>{!c&&l&&(n.map(a=>typeof a=="string"?a:a.value).includes(l)?(p(l),s&&s(l)):(p(""),s&&s("")))},[c,l,s,n]);const I=t.useCallback(e=>{const a=typeof e=="string"?e:e.value;p(a)},[]),k=t.useCallback(e=>{const a=e.target.value;p(a),a?(r(!0),v(0)):r(!1)},[]),V=t.useMemo(()=>n.filter(e=>typeof e=="string"?e.toLowerCase().includes(l.toLowerCase()):e.label.toLowerCase().includes(l.toLowerCase())),[n,l]);return M(P,{children:[i(G,{...E({ref:h.setReference,onChange:k,value:l,placeholder:o,disabled:b,role:"textbox","aria-autocomplete":"none",autoComplete:"off",onKeyDown(e){e.key==="Enter"&&u!=null&&V[u]&&(I(V[u]),v(null),r(!1))},onClick(){r(!0)}}),size:d,..._}),i(U,{children:c&&i(K,{context:m,initialFocus:-1,visuallyHiddenDismiss:!0,children:i(J,{inputsize:d,...F({ref:h.setFloating,style:{...N}}),children:V.map((e,a)=>{const q=typeof e=="string"?e:e.value,A={...L({ref(f){C.current[a]=f},onClick(){var f;I(e),r(!1),(f=h.domReference.current)==null||f.focus()}})};return i(y,{...A,active:u===a,children:typeof e=="string"?e:e.label},q)})})})})]})}x.displayName="Autocomplete";try{x.displayName="Autocomplete",x.__docgenInfo={description:"",displayName:"Autocomplete",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},maxLength:{defaultValue:null,description:"",name:"maxLength",required:!1,type:{name:"number"}},placeholder:{defaultValue:{value:"Type to search"},description:"",name:"placeholder",required:!1,type:{name:"string"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"medium"'},{value:'"large"'}]}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"(((event: ChangeEvent<HTMLInputElement> | ChangeEvent<HTMLTextAreaElement>) => void) & ((event: ChangeEvent<HTMLInputElement>) => void))"}},errorText:{defaultValue:null,description:"",name:"errorText",required:!1,type:{name:"string"}},containerStyle:{defaultValue:null,description:"",name:"containerStyle",required:!1,type:{name:"CSSProperties"}},containerClassName:{defaultValue:null,description:"",name:"containerClassName",required:!1,type:{name:"string"}},options:{defaultValue:{value:"[]"},description:"",name:"options",required:!1,type:{name:"readonly (string | OptionType)[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: string) => void)"}}}}}catch{}export{x as A};
