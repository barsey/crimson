{"version":3,"file":"ParticleProvider-9ff74a19.js","sources":["../../src/utils/colorUtils.ts","../../src/theming/theme.ts","../../src/core/ParticleProvider.tsx"],"sourcesContent":["import { ButtonVariants, ParticleColor } from '../components/types';\nimport { ParticleTheme } from '../core/theme.types';\n\nexport const contrastThreshold = 4.5;\n\nfunction hexToRgb(hex: string) {\n  var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  hex = hex.replace(shorthandRegex, function (m, r, g, b) {\n    return r + r + g + g + b + b;\n  });\n\n  var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result\n    ? {\n        r: parseInt(result[1], 16),\n        g: parseInt(result[2], 16),\n        b: parseInt(result[3], 16),\n      }\n    : null;\n}\n\nfunction luminance(r: number, g: number, b: number) {\n  var a = [r, g, b].map(function (v) {\n    v /= 255;\n    return v <= 0.03928 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);\n  });\n  return a[0] * 0.2126 + a[1] * 0.7152 + a[2] * 0.0722;\n}\n\nexport function getContrastRatio(foreground: string, background: string) {\n  const color1rgb = hexToRgb(foreground);\n  const color2rgb = hexToRgb(background);\n\n  if (!color1rgb || !color2rgb) {\n    return 0;\n  }\n\n  const color1luminance = luminance(color1rgb.r, color1rgb.g, color1rgb.b);\n  const color2luminance = luminance(color2rgb.r, color2rgb.g, color2rgb.b);\n\n  return (\n    (Math.max(color1luminance, color2luminance) + 0.05) /\n    (Math.min(color1luminance, color2luminance) + 0.05)\n  );\n}\n\nexport function getContrastText(background: string) {\n  const contrast = getContrastRatio('#ffffff', background);\n\n  const contrastText = contrast >= contrastThreshold ? '#ffffff' : '#000000';\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (contrast < 3) {\n      console.error(\n        [\n          `MUI: The contrast ratio of ${contrast}:1 for ${contrastText} on ${background}`,\n          'falls below the WCAG recommended absolute minimum contrast ratio of 3:1.',\n          'https://www.w3.org/TR/2008/REC-WCAG20-20081211/#visual-audio-contrast-contrast',\n        ].join('\\n'),\n      );\n    }\n  }\n\n  return contrastText;\n}\n\nexport function getButtonBackground(\n  theme: ParticleTheme,\n  color?: ParticleColor,\n  variant?: ButtonVariants,\n) {\n  switch (variant) {\n    case 'default':\n      return 'inherit';\n\n    case 'outlined':\n      return 'inherit';\n\n    case 'contained':\n      return color ? theme.colors[color] : theme.colors.primary;\n\n    case 'gradient':\n      return `linear-gradient(250deg, ${theme.colors.primary}, ${theme.colors.secondary})`;\n    default:\n      return '#fff';\n  }\n}\n\nexport function getButtonColor(\n  theme: ParticleTheme,\n  color?: ParticleColor,\n  variant?: ButtonVariants,\n) {\n  const defaultColor = color ? theme.colors[color] : theme.colors.primary;\n  switch (variant) {\n    case 'contained':\n    case 'gradient':\n      return color ? getContrastText(theme.colors[color]) : '#fff';\n    default:\n      return defaultColor;\n  }\n}\n\nexport function getButtonBorder(\n  theme: ParticleTheme,\n  color?: ParticleColor,\n  variant?: ButtonVariants,\n) {\n  const defaultColor = color ? theme.colors[color] : theme.colors.primary;\n  switch (variant) {\n    case 'outlined':\n      return `1px solid ${defaultColor}`;\n    default:\n      return '0';\n  }\n}\n","import { ParticleTheme } from '../core/theme.types';\nimport {\n  getContrastText,\n  getButtonBackground,\n  getButtonColor,\n  getButtonBorder,\n} from '../utils/colorUtils';\n\nexport const defaultTheme: ParticleTheme = {\n  colors: {\n    primary: '#7b2ff7',\n    secondary: '#9c27b0', // '#f107a3',\n    error: '#d32f2f',\n    warning: '#ed6c02',\n    info: '#0288d1',\n    success: '#2e7d32',\n  },\n  getContrastText,\n  getButtonBackground,\n  getButtonColor,\n  getButtonBorder,\n};\n","import { ThemeProvider } from '@emotion/react';\nimport { useEffect, useState } from 'react';\nimport { defaultTheme } from '../theming/theme';\nimport React from 'react';\nimport { ParticleColorTheme } from './theme.types';\n\nexport type ParticleProviderProps = {\n  children: React.ReactNode;\n  theme?: ParticleColorTheme;\n};\nexport default function ParticleProvider({\n  children,\n  theme,\n}: ParticleProviderProps) {\n  const [currentTheme, setCurrentTheme] = useState(defaultTheme);\n\n  useEffect(() => {\n    if (theme) {\n      setCurrentTheme({ ...defaultTheme, ...theme });\n    }\n  }, [theme]);\n\n  return <ThemeProvider theme={currentTheme}>{children}</ThemeProvider>;\n}\n"],"names":["contrastThreshold","hexToRgb","hex","shorthandRegex","replace","m","r","g","b","result","exec","parseInt","luminance","a","map","v","Math","pow","getContrastRatio","foreground","background","color1rgb","color2rgb","color1luminance","color2luminance","max","min","getContrastText","contrastText","getButtonBackground","theme","color","variant","colors","primary","secondary","getButtonColor","defaultColor","getButtonBorder","defaultTheme","error","warning","info","success","ParticleProvider","children","currentTheme","setCurrentTheme","useState","useEffect","jsx","ThemeProvider"],"mappings":"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"}