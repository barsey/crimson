import{a as c,j as h}from"./emotion-react-jsx-runtime.browser.esm-B1TMS0DI.js";import{c as p}from"./emotion-styled-base.browser.esm-Dp_FgEmo.js";import{r as a,R as b}from"./index-BwDkhjyp.js";import{P as S}from"./constants-IjE9pQe9.js";import{m as I}from"./motion-r4PA4Vsg.js";import{A as _}from"./index-KOD9nKFQ.js";import{T as w}from"./Tooltip-DpUn_wRn.js";const C=a.createContext(null),k=()=>{const e=a.useContext(C);if(!e)throw new Error("useSegmentedControl must be used within a SegmentedControlProvider");return e},$=p("div",{target:"e1hvjaet2"})("display:flex;background:",({theme:e})=>e.colors.grey[200],";border-radius:4px;border:",({theme:e})=>`1px solid ${e.colors.grey[300]}`,";width:fit-content;height:",({size:e="medium"})=>S[e]-2,"px;"),q=p("div",{target:"e1hvjaet1"})({name:"1hyn5pw",styles:"display:flex;position:relative;border:none;gap:4px;margin:2px;overflow:hidden"}),V=p("div",{target:"e1hvjaet0"})("box-sizing:border-box;position:absolute;margin:0;top:0;height:100%;border-radius:4px;border:",({theme:e,color:t,hide:i=!1})=>i?"none":`1px solid ${t?e.colors[t].main:e.colors.grey[400]}`,";background:",({theme:e,color:t})=>t?e.colors[t].main:e.colors.neutral[0],";"),N=I(V);function y({children:e,initialSelectedIndex:t=0,color:i=void 0,size:o="medium",id:n="segmented-control"}){const[r,u]=a.useState(t||0),d=a.useRef([]),[m,g]=a.useState({left:0,width:0});return a.useEffect(()=>{if(d.current[r]){const{offsetLeft:s,clientWidth:l}=d.current[r];g({left:s,width:l})}},[r]),c(C.Provider,{value:{selectedIndex:r,setSelectedIndex:u,color:i,size:o},children:c($,{size:o,"data-testid":`${n}-root`,id:`${n}-root`,children:h(q,{"data-testid":`${n}-container`,id:`${n}-container`,children:[b.Children.map(e,(s,l)=>b.cloneElement(s,{index:l,ref:f=>d.current[l]=f})),c(_,{children:c(N,{initial:!1,animate:m,transition:{type:"spring",stiffness:300,damping:30},color:i,"data-testid":`${n}-indicator`,id:`${n}-indicator`,hide:r===-1})})]})})})}y.displayName="SegmentedControl";try{y.displayName="SegmentedControl",y.__docgenInfo={description:"",displayName:"SegmentedControl",props:{initialSelectedIndex:{defaultValue:{value:"0"},description:"",name:"initialSelectedIndex",required:!1,type:{name:"number"}},color:{defaultValue:{value:"undefined"},description:"",name:"color",required:!1,type:{name:"enum",value:[{value:'"success"'},{value:'"error"'},{value:'"warning"'},{value:'"info"'},{value:'"primary"'},{value:'"secondary"'}]}},size:{defaultValue:{value:"medium"},description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"medium"'},{value:'"large"'}]}},id:{defaultValue:{value:"segmented-control"},description:"",name:"id",required:!1,type:{name:"string"}}}}}catch{}const j=p("button",{target:"e3y07f10"})("flex:1;display:flex;gap:8px;padding:8px;justify-content:center;align-items:center;margin:0;box-sizing:border-box;border:none;background:transparent;color:",({theme:e})=>e.colors.grey[900],";font-family:",({theme:e})=>e.font.family.base,";font-weight:",({theme:e})=>e.font.weight.medium,";font-size:",({theme:e})=>e.font.size[100],";font-style:normal;text-wrap:nowrap;outline:none;position:relative;z-index:1;border-radius:4px;&[aria-selected='true']{color:",({theme:e,color:t})=>t?e.colors.neutral[0]:e.colors.grey[900],";}&:hover{&:not(:disabled){cursor:pointer;&[aria-selected='false']{background:",({theme:e})=>e.colors.grey[400],";}}}svg{width:15px!important;height:15px!important;}&:disabled{background-color:",({theme:e,color:t})=>t?e.colors[t][100]:e.colors.grey[100],";border-color:",({theme:e,color:t})=>t?e.colors[t][400]:e.colors.grey[400],";color:",({theme:e})=>e.colors.grey[500],";svg{fill:",({theme:e})=>e.colors.grey[600],";}}"),x=a.forwardRef((e,t)=>{const{children:i,index:o,leadingIcon:n,trailingIcon:r,onClick:u,disabled:d=!1,tooltipMessage:m,...g}=e,{selectedIndex:s,setSelectedIndex:l,color:f}=k(),v=h(j,{ref:t,onClick:()=>{o!==void 0&&l(o),u&&u()},color:f,"aria-selected":o===s,disabled:d,id:`segmented-control-button-${o}`,"data-testid":`segmented-control-button-${o}`,...g,children:[n,i,r]});return m?c(w,{id:`segmented-control-tooltip-${o}`,message:m,children:v}):v});x.displayName="SegmentedControlButton";try{x.displayName="SegmentedControlButton",x.__docgenInfo={description:"",displayName:"SegmentedControlButton",props:{index:{defaultValue:null,description:"",name:"index",required:!1,type:{name:"number"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}},leadingIcon:{defaultValue:null,description:"",name:"leadingIcon",required:!1,type:{name:"ReactNode"}},trailingIcon:{defaultValue:null,description:"",name:"trailingIcon",required:!1,type:{name:"ReactNode"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},tooltipMessage:{defaultValue:null,description:"",name:"tooltipMessage",required:!1,type:{name:"string"}}}}}catch{}export{y as S,x as a};
