import{j as N,a as s}from"./emotion-react-jsx-runtime.browser.esm-625b96f3.js";import{c as M}from"./emotion-styled-base.browser.esm-7182509f.js";import{l as S,m as $,n as j,p as q,c as G,q as J,r as K,e as Q,h as W,g as X,k as Y,t as Z,i as ee,u as V,v as ne,a as te,F as oe,w as ae,x as se,o as ie,f as de,s as re,d as le}from"./floating-ui.react-14c844eb.js";import{R as t}from"./index-76fb7be0.js";const v=t.createContext({getItemProps:()=>({}),activeIndex:null,setActiveIndex:()=>{},setHasFocusInside:()=>{},isOpen:!1}),ue=M("div",{target:"ebp9j5o1"})({name:"vgbb2b",styles:"background:rgba(255, 255, 255, 0.8);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);padding:4px;border-radius:6px;box-shadow:2px 4px 12px rgba(0, 0, 0, 0.1),0 0 0 1px rgba(0, 0, 0, 0.1);outline:0"}),ce=M("button",{target:"ebp9j5o0"})({name:"16vev6t",styles:"&.RootMenu{padding:6px 14px;border:none;font-size:16px;background:none;border-radius:6px;border:1px solid #d7dce5;}&.RootMenu[data-open],&.RootMenu:hover{background:#d7dce5;}&.MenuItem{display:flex;justify-content:space-between;align-items:center;background:none;width:100%;border:none;border-radius:4px;font-size:16px;text-align:left;line-height:1.8;min-width:110px;margin:0;outline:0;}&.MenuItem:focus{background:royalblue;color:white;}.&MenuItem[data-nested][data-open]:not([data-focus-inside]){background:royalblue;color:white;}&.MenuItem[data-focus-inside][data-open]{background:#d7dce5;}"}),I=t.forwardRef(({children:a,label:r,...n},h)=>{const[o,c]=t.useState(!1),[m,b]=t.useState(!1),[l,i]=t.useState(null),k=t.useRef([]),F=t.useRef([]),y=t.useContext(v),d=S(),f=$(),p=j(),_=q(),e=p!=null,{floatingStyles:z,refs:R,context:u}=G({nodeId:f,open:o,onOpenChange:c,placement:e?"right-start":"bottom-start",middleware:[ie({mainAxis:e?0:4,alignmentAxis:e?-4:0}),de(),re()],whileElementsMounted:le}),A=J(u,{enabled:e,delay:{open:75},handleClose:K({blockPointerEvents:!0})}),H=Q(u,{event:"mousedown",toggle:!e,ignoreMouse:e}),O=W(u,{role:"menu"}),E=X(u,{bubbles:!0}),L=Y(u,{listRef:k,activeIndex:l,nested:e,onNavigate:i}),T=Z(u,{listRef:F,onMatch:o?i:void 0,activeIndex:l}),{getReferenceProps:B,getFloatingProps:D,getItemProps:U}=ee([A,H,O,E,L,T]);return t.useEffect(()=>{if(!d)return;function x(){c(!1)}function g(w){w.nodeId!==f&&w.parentId===p&&c(!1)}return d.events.on("click",x),d.events.on("menuopen",g),()=>{d.events.off("click",x),d.events.off("menuopen",g)}},[d,f,p]),t.useEffect(()=>{o&&d&&d.events.emit("menuopen",{parentId:p,nodeId:f})},[d,o,f,p]),N(ae,{id:f,children:[N(ce,{ref:V([R.setReference,_.ref,h]),tabIndex:e?y.activeIndex===_.index?0:-1:void 0,role:e?"menuitem":void 0,"data-open":o?"":void 0,"data-nested":e?"":void 0,"data-focus-inside":m?"":void 0,className:e?"MenuItem":"RootMenu",...B(y.getItemProps({...n,onFocus(x){var g;(g=n.onFocus)==null||g.call(n,x),b(!1),y.setHasFocusInside(!0)}})),children:[r,e&&s("span",{"aria-hidden":!0,style:{marginLeft:10,fontSize:10},children:"â–¶"})]}),s(v.Provider,{value:{activeIndex:l,setActiveIndex:i,getItemProps:U,setHasFocusInside:b,isOpen:o},children:s(ne,{elementsRef:k,labelsRef:F,children:o&&s(te,{children:s(oe,{context:u,modal:!1,initialFocus:e?-1:0,returnFocus:!e,children:s(ue,{ref:R.setFloating,className:"Menu",style:z,...D(),children:a})})})})})]})}),C=t.forwardRef((a,r)=>j()===null?s(se,{children:s(I,{...a,ref:r})}):s(I,{...a,ref:r}));try{I.displayName="MenuComponent",I.__docgenInfo={description:"",displayName:"MenuComponent",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},nested:{defaultValue:null,description:"",name:"nested",required:!1,type:{name:"boolean"}}}}}catch{}try{C.displayName="Menu",C.__docgenInfo={description:"",displayName:"Menu",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},nested:{defaultValue:null,description:"",name:"nested",required:!1,type:{name:"boolean"}}}}}catch{}const fe=M("button",{target:"enq6j2o0"})({name:"16vev6t",styles:"&.RootMenu{padding:6px 14px;border:none;font-size:16px;background:none;border-radius:6px;border:1px solid #d7dce5;}&.RootMenu[data-open],&.RootMenu:hover{background:#d7dce5;}&.MenuItem{display:flex;justify-content:space-between;align-items:center;background:none;width:100%;border:none;border-radius:4px;font-size:16px;text-align:left;line-height:1.8;min-width:110px;margin:0;outline:0;}&.MenuItem:focus{background:royalblue;color:white;}.&MenuItem[data-nested][data-open]:not([data-focus-inside]){background:royalblue;color:white;}&.MenuItem[data-focus-inside][data-open]{background:#d7dce5;}"}),P=t.forwardRef(({label:a,disabled:r,...n},h)=>{const o=t.useContext(v),c=q({label:r?null:a}),m=S(),b=c.index===o.activeIndex;return s(fe,{...n,ref:V([c.ref,h]),type:"button",role:"menuitem",className:"MenuItem",tabIndex:b?0:-1,disabled:r,...o.getItemProps({onClick(l){var i;(i=n.onClick)==null||i.call(n,l),m==null||m.events.emit("click")},onFocus(l){var i;(i=n.onFocus)==null||i.call(n,l),o.setHasFocusInside(!0)}}),children:a})});try{P.displayName="MenuItem",P.__docgenInfo={description:"",displayName:"MenuItem",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}}}catch{}export{C as M,P as a};
//# sourceMappingURL=MenuItem-331c12b1.js.map
