import{a as t,j as p,c as r}from"./emotion-styled-base.browser.esm-0d53d476.js";import{r as i,R as D}from"./index-76fb7be0.js";import{c as te,d as le,o as ae,f as re,j as ne,e as se,g as ie,h as oe,k as ce,i as de,F as ue,a as pe}from"./floating-ui.react-78df0bc4.js";import{C as F}from"./CloseIcon-c9b79fb3.js";import{a as fe}from"./useThemeSizing-f9cee3d0.js";const ge=()=>t("svg",{viewBox:"0 0 15 15",height:"20",width:"20","aria-hidden":"true",focusable:"false",children:t("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z"})}),he=r("div",{target:"evh5h1z13"})({name:"1kxryoc",styles:"position:relative;box-sizing:border-box;min-width:200px;width:100%"}),me=r("div",{target:"evh5h1z12"})("align-items:center;cursor:default;display:flex;flex-wrap:wrap;justify-content:space-between;position:relative;transition:all 100ms ease 0s;background-color:rgb(255, 255, 255);border-color:rgb(204, 204, 204);border-radius:4px;border-style:solid;border-width:1px;box-sizing:border-box;outline:0px!important;&:focus,&.menu-visible{border-color:",({theme:o,color:f})=>f?o.colors[f]:o.colors.primary,";}"),be=r("div",{target:"evh5h1z11"})({name:"h2eju1",styles:"align-items:center;display:flex;flex:1;flex-wrap:wrap;position:relative;overflow:hidden;padding:0 8px;box-sizing:border-box"}),xe=r("div",{target:"evh5h1z10"})({name:"1ilc3bi",styles:"align-items:center;align-self:stretch;display:flex;flex-shrink:0;box-sizing:border-box"}),M=r("div",{target:"evh5h1z9"})({name:"1e8xx0z",styles:"display:flex;transition:color 150ms ease 0s;color:rgb(204, 204, 204);padding:4px;box-sizing:border-box;display:flex;fill:currentcolor;line-height:1;stroke:currentcolor;stroke-width:0;svg{&:hover{fill:rgb(102, 102, 102);stroke:rgb(102, 102, 102);}}"}),ve=r("div",{target:"evh5h1z8"})({name:"10uovqn",styles:"display:flex;align-items:center;justify-content:space-between;user-select:none"}),ye=r("div",{target:"evh5h1z7"})({name:"vtzcax",styles:"border-radius:8px;overflow-y:auto;background-color:#fff;box-shadow:0 0 0 1px hsla(0, 0%, 0%, 0.1),0 4px 11px hsla(0, 0%, 0%, 0.1);.select-menu-item{padding:10px;cursor:pointer;&:hover{background-color:#9fc3f870;}&.selected{background-color:#0d6efd;color:#fff;}}"}),we=r("div",{target:"evh5h1z6"})({name:"1s4qkvb",styles:"display:flex;flex-wrap:wrap;gap:5px"}),Se=r("div",{target:"evh5h1z5"})({name:"a57brh",styles:"background-color:rgb(230, 230, 230);padding:2px 4px;border-radius:2px;display:flex;align-items:center;svg{fill:rgb(102, 102, 102);stroke:rgb(102, 102, 102);}"}),C=r("div",{target:"evh5h1z4"})({name:"v4gxwj",styles:"overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border-radius:2px;color:rgb(51, 51, 51);font-size:85%;box-sizing:border-box;display:flex;align-items:center;padding:2px 2px;&.single{padding:4px 2px;font-size:100%;}"}),E=r("span",{target:"evh5h1z3"})({name:"dku0w3",styles:"display:flex;align-items:center;&.multiple{width:14px;&:hover{background-color:#ddd;}}"}),ze=r("div",{target:"evh5h1z2"})({name:"1cys89r",styles:"padding:5px;background-color:#eee;input{width:100%;box-sizing:border-box;padding:5px;border:1px solid #ccc;border-radius:5px;}"}),Ce=r("span",{target:"evh5h1z1"})({name:"11gvzt2",styles:"align-self:stretch;width:1px;background-color:rgb(204, 204, 204);margin-bottom:8px;margin-top:8px;box-sizing:border-box"}),ke=r("div",{target:"evh5h1z0"})({name:"1o7d3sk",styles:"display:flex;align-items:center;flex-wrap:wrap"}),O=o=>{const{placeholder:f,options:k,valueKey:s,labelKey:g,multiple:c,searchable:T,onChange:I,value:m,label:V,size:P}=o,[d,b]=i.useState(!1),[q,$]=D.useState(null),[n,h]=i.useState([]),[x,L]=i.useState(""),v=i.useRef(null),{refs:y,floatingStyles:B,context:u}=te({placement:"bottom-start",open:d,onOpenChange:(e,l,a)=>{b(!(a==="outside-press"||a==="escape-key"))},whileElementsMounted:le,middleware:[ae(5),re({padding:10}),ne({apply({rects:e,elements:l,availableHeight:a}){Object.assign(l.floating.style,{maxHeight:`${a}px`,minWidth:`${e.reference.width}px`})},padding:10})]}),K=D.useRef([]),w=i.useId(),H=se(u,{event:"mousedown"}),U=ie(u),W=oe(u,{role:"listbox"}),Z=ce(u,{listRef:K,activeIndex:q,onNavigate:$,loop:!0}),{getReferenceProps:R,getFloatingProps:A,getItemProps:G}=de([U,W,Z,H]);i.useEffect(()=>{m&&h([m])},[m]),i.useEffect(()=>{L(""),d&&v.current&&v.current.focus()},[d]);const J=()=>!n||n.length===0?t(C,{className:"single",children:f}):c?t(we,{children:n.map(e=>p(Se,{children:[t(C,{children:e[g]}),t(E,{className:"multiple",onClick:l=>Q(l,e),children:t(F,{})})]},e[s]))}):t(C,{className:"single",children:n[0][g]}),S=e=>{I&&I(c?e:e.length===1?e[0]:null)},z=e=>{let l;c?n.findIndex(a=>a[s]===e[s])>=0?l=_(e):l=[...n,e]:l=[e],h(l),S(l),b(!1)},N=e=>c?n.filter(l=>l[s]===e[s]).length>0:n.length===0?!1:n[0][s]===e[s],_=e=>n.filter(l=>l[s]!==e[s]),Q=(e,l)=>{e.preventDefault();const a=_(l);h(a),S(a)},X=e=>{e.preventDefault(),h([]),S([])},Y=e=>{e.preventDefault(),L(e.target.value)},ee=()=>x?k.filter(e=>e[g].toLowerCase().indexOf(x.toLowerCase())>=0):k,j=fe({size:P});return p(he,{children:[V&&t("label",{id:w,css:j,children:V}),p(me,{className:`${d&&"menu-visible"}`,css:j,ref:y.setReference,"aria-labelledby":w,"aria-autocomplete":"none",...R(),role:"button",children:[t(be,{children:t(ve,{children:t(ke,{tabIndex:0,ref:y.setReference,"aria-labelledby":w,"aria-autocomplete":"none",...R(),children:J()})})}),d&&t(pe,{children:t(ue,{context:u,modal:!1,children:p(ye,{ref:y.setFloating,style:{...B,minWidth:100,outline:0},...A(),children:[T&&t(ze,{children:t("input",{onChange:Y,value:x,ref:v})}),ee().map((e,l)=>t("div",{ref:a=>{K.current[l]=a},role:"option",tabIndex:l===q?0:-1,"aria-selected":N(e),className:`select-menu-item ${N(e)&&"selected"}`,...G({onClick:()=>{z(e)},onKeyDown(a){a.key==="Enter"&&(a.preventDefault(),z(e)),a.key===" "&&(a.preventDefault(),z(e))}}),children:e[g]},e[s]+l))]})})}),p(xe,{children:[t(M,{children:!c&&n.length>0&&t(E,{onClick:X,role:"button","aria-hidden":"true",children:t(F,{})})}),t(Ce,{}),t(M,{children:t(ge,{})})]})]})]})};try{O.displayName="Select",O.__docgenInfo={description:"",displayName:"Select",props:{color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'},{value:'"success"'},{value:'"info"'},{value:'"warning"'},{value:'"error"'}]}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"medium"'},{value:'"large"'}]}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"SelectKeyValue[]"}},valueKey:{defaultValue:null,description:"",name:"valueKey",required:!0,type:{name:"string"}},labelKey:{defaultValue:null,description:"",name:"labelKey",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: SelectKeyValue | SelectKeyValue[] | null) => void)"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"SelectKeyValue"}},multiple:{defaultValue:null,description:"",name:"multiple",required:!1,type:{name:"boolean"}},searchable:{defaultValue:null,description:"",name:"searchable",required:!1,type:{name:"boolean"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}}}}}catch{}export{O as S};
//# sourceMappingURL=Select-00661f73.js.map
